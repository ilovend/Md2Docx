# 工作协议 (Working Agreement)

> **建立日期**：2026-01-26
> **参与者**：项目团队成员
> **审核周期**：每月复盘时回顾

---

## 1. AI 协作规则

### 每日使用上限

| 指标             | 限制       | 原因         |
| :--------------- | :--------- | :----------- |
| AI 对话轮次      | ≤ 50 轮/天 | 保持人类主导 |
| 连续 AI 交互时间 | ≤ 2 小时   | 避免过度依赖 |
| 单次提示词长度   | ≤ 2000 字  | 保持聚焦     |

### AI 辅助边界

✅ **适合使用 AI**：

- 代码生成和重构
- 文档起草
- 问题排查
- 方案探索

❌ **不适合使用 AI**：

- 最终决策（人类负责）
- 敏感数据处理
- 安全相关审计

---

## 2. 专注块规则 (Focus Block)

### 时间块定义

| 类型       | 时长    | 用途                 |
| :--------- | :------ | :------------------- |
| 深度工作块 | 90 分钟 | 复杂编码、设计思考   |
| 浅层工作块 | 30 分钟 | 邮件、会议、代码评审 |
| 休息块     | 15 分钟 | 休息、散步           |

### 专注块期间

- 🔕 关闭非紧急通知
- 📵 勿回复即时消息
- 🎯 只处理单一任务
- 📝 记录中断事项到 parallel-backlog.md

---

## 3. 协作时长记录表

### 本周记录

| 日期       | 开始  | 结束  | 时长 | 类型    | 产出         |
| :--------- | :---- | :---- | :--- | :------ | :----------- |
| 2026-01-26 | 22:00 | 23:30 | 1.5h | AI 协作 | 建立文档体系 |

### 月度统计

| 周  | 总时长 | AI 协作 | 独立工作 | 评审/会议 |
| :-- | :----- | :------ | :------- | :-------- |
| W1  | 0h     | 0h      | 0h       | 0h        |
| W2  | 0h     | 0h      | 0h       | 0h        |
| W3  | 0h     | 0h      | 0h       | 0h        |
| W4  | 1.5h   | 1.5h    | 0h       | 0h        |

---

## 4. 沟通规范

### 异步优先

- 非紧急事项使用 Issue/PR 评论
- 文档变更提交 PR 而非口头沟通
- 决策记录在 ADR 中

### 同步沟通

仅用于：

- 紧急问题
- 头脑风暴
- 复杂问题讨论

---

## 5. 代码提交规范

### 提交信息格式

```
<type>(<scope>): <subject>

[body]

[footer]
```

### Type 类型

| Type     | 说明          |
| :------- | :------------ |
| feat     | 新功能        |
| fix      | 修复 Bug      |
| docs     | 文档变更      |
| style    | 代码格式      |
| refactor | 重构          |
| test     | 测试          |
| chore    | 构建/工具变更 |

### 关联文档要求

每个 feat/fix 类型的提交必须关联：

- 相关文档链接
- 或 Issue 编号
- 或 ADR 编号

---

## 6. 评审规范

### Pull Request 要求

- [ ] 关联文档链接
- [ ] 所有测试通过
- [ ] 无新增 Lint 错误
- [ ] 变更说明清晰

### 评审时效

| 优先级    | 响应时间   |
| :-------- | :--------- |
| P0 (紧急) | 4 小时内   |
| P1 (重要) | 1 工作日内 |
| P2 (普通) | 2 工作日内 |

---

## 7. 协议变更流程

1. 在 Issue 中提出变更建议
2. 团队讨论
3. 达成共识后更新本文档
4. 提交变更记录到 CHANGELOG.md

---

## 📝 协议签署

| 成员   | 签署日期   | 备注 |
| :----- | :--------- | :--- |
| [姓名] | YYYY-MM-DD |      |
